<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" type="text/css" href="../styles/style.css" />
    <title>docker-swarm</title>
</head>
<body>
<div id="header">
    <ul id="top-nav">
    <li><a href="../index.html">首页</a></li>
    <li><a href="index.html">分类首页</a></li>
    </ul>
</div>
<div id="cse"></div>
<div id="main">

<h1>docker-swarm</h1>
<div class="toc">
<ul>
<li><a href="#toc_0.1">docker swarm架构了解</a>
<li><a href="#toc_0.2">安装swarm环境</a>
<li><a href="#toc_0.3">在swarm中部署服务</a>
<li><a href="#toc_0.4">swarm-netork</a>
<li><a href="#toc_0.5">docker stack</a>
<li><a href="#toc_0.6">docker持久化存储</a>
<li><a href="#toc_0.7">swarm config</a>
</ul>
</ul>
</div>

<ul>
<li>
Docker Swarm: 

<ul>
<li>
Docker Swarm: <a href="https://www.runoob.com/docker/docker-swarm.html">https://www.runoob.com/docker/docker-swarm.html</a>

<li>
docker-swarm 教程：部署篇:<a href="https://zhuanlan.zhihu.com/p/646422781">https://zhuanlan.zhihu.com/p/646422781</a>

<li>
生产环境使用swarm注意事项:<a href="https://zhuanlan.zhihu.com/p/26794966">https://zhuanlan.zhihu.com/p/26794966</a>

<li>
『高级篇』docker之DockerSwarm的了解、部署（27/28）:

<ul>
<li>
<a href="https://zhuanlan.zhihu.com/p/56485769">https://zhuanlan.zhihu.com/p/56485769</a>

<li>
<a href="https://zhuanlan.zhihu.com/p/56672372">https://zhuanlan.zhihu.com/p/56672372</a>

</ul>
<li>
Docker Swarm 入门一篇文章就够了:<a href="https://www.jianshu.com/p/9eb9995884a5">https://www.jianshu.com/p/9eb9995884a5</a>

</ul>
<li>
Docker 国内镜像:<a href="https://zhuanlan.zhihu.com/p/347643668">https://zhuanlan.zhihu.com/p/347643668</a>

</ul>

<h2 id="toc_0.1">docker swarm架构了解</h2>

<ul>
<li>
Scheduler:

<ul>
<li>
用户在创建服务的时候，选择最优的节点，选择最优节点的管理分为2个阶段:过滤和策略(Fiter、Strategy)

<li>
Fiter找出满足条件的节点，Constraints约束、Affinity亲和性、Dependency依赖、health健康、Ports端口过滤器。

<li>
Strategy选择出最优的节点，Binpack资源聚集策略、Spread资源均匀策略、Randdom随机策略。

</ul>
<li>
Discovery:信息维护，比如Label Health。

<li>
Cluster:包含了Swarm每个节点的信息，调用容器的api、完成容器启动。

</ul>

<p>
<img src=../img/docker/swarm-architecture.png alt="swarm architecture" width=800px>
</p>

<ul>
<li>
Swarm集群创建过程：

<ul>
<li>
manager节点：通过init过程安装管理服务，并生成join-token、manager节点IP:Port信息。

<li>
node节点：安装docker服务，通过join过程加入集群。

<li>
docker client连接方式：

<ul>
<li>
登录manager节点执行docker。

<li>
远程调用manager API。

</ul>
</ul>
</ul>

<p>
<img src=../img/docker/swarm-init.png alt="swarm集群创建" width=800px>
</p>

<h2 id="toc_0.2"><a href="docker-swarm-install.html">安装swarm环境</a></h2>

<h2 id="toc_0.3"><a href="create service.html">在swarm中部署服务</a></h2>

<h2 id="toc_0.4"><a href="swarm-netork.html">swarm-netork</a></h2>

<h2 id="toc_0.5"><a href="docker-stack.html">docker stack</a></h2>

<h2 id="toc_0.6"><a href="docker-volume.html">docker持久化存储</a></h2>

<h2 id="toc_0.7"><a href="docker_config.html">swarm config</a></h2>

</div>
<div id="footer">
<p>
&copy; 2012 - 2021 XStar
&nbsp;|&nbsp;<a href="http://code.google.com/p/vimwiki/" title="vimwiki">Powerby:Vimwiki</a>
&nbsp;|&nbsp;<a href="http://kwiki.github.io" title="丘迟">Style:丘迟</a>
&nbsp;|&nbsp;<a href="../index.html">首页</a>
&nbsp;|&nbsp;<a href="index.html">分类首页</a>
&nbsp;|&nbsp;<a href="../SiteMap.html">站点地图</a>
</p>
</div>
<script type="text/javascript">var vimwiki_rootpath="../";</script>
<script type="text/javascript" src="https://cdn.staticfile.org/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript" src="../scripts/vimwiki.js"></script>
</body>
</html>

