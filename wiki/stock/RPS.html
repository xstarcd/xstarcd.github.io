<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" type="text/css" href="../styles/style.css" />
    <title>欧奈尔RPS曲线的编制方法及常见问题解答（20170505）</title>
</head>
<body>
<div id="header">
    <ul id="top-nav">
    <li><a href="../index.html">首页</a></li>
    <li><a href="index.html">分类首页</a></li>
    </ul>
</div>
<div id="cse"></div>
<div id="main">

<h1>欧奈尔RPS曲线的编制方法及常见问题解答（20170505）</h1>
<div class="toc">
<ul>
<li><a href="#toc_0.1">《笑傲股市》中关于RS强度</a>
<ul>
<li><a href="#toc_0.1.1">如何区分领军股和滞后股：使用股价相对强度</a>
<li><a href="#toc_0.1.2">选择RS值为80或90以上、价格形态合适的股票</a>
<li><a href="#toc_0.1.3">如何正确利用股价相对强度</a>
<li><a href="#toc_0.1.4">如何判断哪个行业组别在引领市场</a>
</ul>
<li><a href="#toc_0.2">第一步，新建自定义板块:上市一年以上</a>
<li><a href="#toc_0.3">第二步，新建一个技术指标的公式</a>
<li><a href="#toc_0.4">第三步，建立扩展数据，对股票涨幅进行排序</a>
<li><a href="#toc_0.5">第四步，再新建一个技术指标公式：股价相对强度RPS</a>
<li><a href="#toc_0.6">第五步，确保下载完整的历史数据</a>
<li><a href="#toc_0.7">常见问题及解答</a>
</ul>
</ul>
</div>

<ul>
<li>
陶博士 陶博士2006 2017-05-05

<li>
原文:<a href="https://mp.weixin.qq.com/s/Wt-1QOJg0edQMdf8QCv76g">欧奈尔RPS曲线的编制方法及常见问题解答（20170505）</a>

</ul>

<ul>
<li>
陶博士公众号

</ul>
<p>
<img src=../img/stock/TBS.png>
</p>
<pre>
郑重提醒：
陶博士没有其他公众号。
陶博士没有微博。微博上复制陶博士公众号文章的，都是骗子。
陶博士没有任何收费学习群。陶博士没有任何股票交流群。
凡是用陶博士名义联系您做股票或者收费的任何事项，都是骗局。
请谨防骗子。请谨防骗子。请谨防骗子。
陶博士唯一的新浪博客是 http://blog.sina.com.cn/taoboshi
如果骗子胆敢继续抄袭陶博士文章，我们诅咒骗子去死！
免责声明：文中提到的个股，仅仅是案例所用，绝无推荐的意思，请勿据此操作。
</pre>

<h2 id="toc_0.1">《笑傲股市》中关于RS强度</h2>

<ul>
<li>
威廉·欧奈尔(William J.O’Neil). 《笑傲股市》（原书第4版·典藏版） 

</ul>

<h3 id="toc_0.1.1">如何区分领军股和滞后股：使用股价相对强度</h3>

<p>
如果你有一个股票组合，就必须学会先卖出表现最差的股票，表现最好的则可以先按兵不动。换言之，永远在损失尚小时卖出错误买入的股票，进而观察那些较好的选择，看它们是否会演变为你的超级牛股。由于人性的作用，大多数投资者本末倒置：持有“失败股”，卖出“制胜股”，这一做法永远会导致更大的失败。
</p>

<p>
如何分辨什么股票好什么股票差呢？最为简单快捷的方法就是在《投资者商业日报》中查找它的股价相对强度（RS）评级。
</p>

<p>
《投资者商业日报》独有的RS评级衡量了某一给定股票在过去52周内相对股市中其他股票的表现。市场上的每一只股票都被指定了1～99范围内的某一数值，99代表相对强度最高。RS值为99，说明该股票在价格表现方面比其他99%的公司更为优秀。RS值为50，代表该股票比其他50%的股票好，但比其他50%的公司表现差。
</p>

<p>
如果你所选股票的RS数值低于70，说明它正落后于股市中表现更好的股票。但这并不意味着其股价不会上涨。它仅表明，即使这只股票上涨，速度可能也会比较慢。
</p>

<p>
从20世纪50年代早期到2008年，表现最好的股票在其股价大涨前的平均RS值为87。换句话说，最出众的股票在开始其最具爆炸性的股价上扬以前，就已经比其他近90%的股票更优秀了。所以，那些立志成为股市中大赢家的投资者一定要记住这一准则：寻找真正的领军股，避免滞后股以及跟随性投资行为。不要购入股价相对强度在40多、50多或60多的股票。 
</p>

<p>
《投资者商业日报》每天都会提供其股票表格中列出的所有股票的股价相对强度评级。这一信息是其他任何商业日报或是本地报纸所没有的。而且，每日图表在线的图表服务还会更新RS评级信息。
</p>

<p>
你还可以在图中画出某一股票的相对强度。如果RS线已经至少连续7个月出现下降，或是至少连续4个月急剧反常下跌，这只股票的价格变化趋势就很值得怀疑了，你也许应该将其卖出。
</p>

<h3 id="toc_0.1.2">选择RS值为80或90以上、价格形态合适的股票</h3>

<p>
如果你想提高自己的选股水平，以便于锁定那些领军股，那么，就要将选股的范围严格限定为RS值至少为80的股票。买入那些滞后股完全没有意义，但很多投资者恰恰这么做了，其中甚至包括一些美国最大的投资公司的工作人员。
</p>

<p>
我不喜欢买入那些股价相对强度评级低于80的股票。实际上，真正的大牛股在其突破第1个或是第2个价格形态之前，RS值就已经至少达到90了。而潜力股的RS值则应该和棒球投手所投出的快球处于一个级别。质量很高的快球，其平均速度可以达到每小时86英里，而最出色的投手则可以投出每小时速度达90多英里的快球。
</p>

<p>
买入某只股票时，一定要明确它之前的价格形态或者价格调整区域是否合适。而且要确定你投资的时机正好是其买入点或是中轴点。正如之前提到的那样，如果有些股票已经比其最初的买入点上涨了5%或是10%，那么就千万不要买进了。这样，你就不会去追逐那些价格上涨过快的股票，而在突如其来的市场抛售中被淘汰的概率也降低了。
</p>

<p>
投资者不愿意设定并遵循选股的最低标准，这令我联想到，很多年前的医生们不知道应该在每次手术前对器具进行消毒。病人们不断因为这个原因死亡，最后，外科医生们总算不太情愿地接受了路易斯·巴斯德（Louis Pasteur）和约瑟夫·李斯特（Joseph Lister）两位研究人员所做的研究。在生活的每一个角落，无知都会付出一定代价，股市当然也不例外。
</p>

<h3 id="toc_0.1.3">如何正确利用股价相对强度</h3>

<p>
很多知名的证券分析师都认为，技术分析意味着购入具有最大股价相对强度的股票。还有一些人认为，技术研究的目的旨在寻求“强势”的股票。这两种观点都不正确。
</p>

<p>
其实，仅仅买入具有最大股价相对强度的强势股票是远远不够的。你应该选择那些形将构建有效的价格形态，并且有望超出大盘整体表现的股票。涨势迅猛、早已完成形态构建，并且股价相对强度非常明显，这才是买入股票的最佳时机。要想发现这些变化，必须重点关注股票的日线图或周线图。
</p>

<h3 id="toc_0.1.4">如何判断哪个行业组别在引领市场</h3>

<p>
...
</p>

<pre>
《投资者商业日报》每一个交易日都会根据经时间检验的21条重大依据给出包含2500只股票的行情表，这比美国其他大多数日报给出的要多得多。这21条依据具体如下。

（1）从1到99的整体综合排名，99是最好的。
（2）每股收益增长排名，将每家上市公司前两个季度和前三年的每股收益增长和其他所有公司进行比较。排名为90意味着该公司的股票表现胜过市场上90%的股票。
（3）相对价格强度排名，将每只股票近12个月来的价格波动与其他所有股票进行对比。如果一家公司的每股收益增长排名和相对价格强度排名都在80甚至更高，那么，它就是较好的投资机会。
（4）将某股票的销售增长率、利润率和投资收益率与其他所有股票比较的排名。
（5）一项专有的、高度精确的净流入/净流出排名，运用特定的股价和成交量公式来估测某股票在前13周中是“净流入”（买进）还是“净流出”（卖出）。“A”表示大量买进，“E”表示大量卖出。
（6～7）成交量变动百分比告诉你每只股票成交量的变动高出还是低于前50天平均成交量的百分比，以及占当天总成交量的百分比。
（8～9）每只股票所属行业板块当前和近期的相关表现。
（10～12）每只股票52周股价高点、收盘价和当日股价变动。
（13～21）市盈率、股息率、公司去年是否进行股票回购、该股票是否带有期权、公司是否将在4周内报告收益情况、股票是否上涨1%以上或股价创新高、股票是否下跌1%以上或股价创新低、该股票首次公开募股发行是不是发生在8年以内，同时每股盈余增长排名和相对价格强度排名都在80以上，以及最近投资者网（investor.com）是否转载了《投资者商业日报》中关于该公司的文章。
《投资者商业日报》不仅分析了更多的股票，提供了更多重要数据，还展示给投资者篇幅更大的、更易于阅读的行情表。
</pre>

<p>
...
</p>

<h2 id="toc_0.2">第一步，新建自定义板块:上市一年以上</h2>

<p>
如何编制欧奈尔RPS曲线是本公众号的独门秘籍。本文重新综合整理了编制方法及常见问题解答。
</p>

<p>
目前大天朝A股的欧奈尔RPS曲线必须剔除新股的影响。
</p>

<p>
<strong>目前一年内上市交易的A股已经超过了300只，占所有A股数量的比重已经达10%。因为大天朝A股的奇葩新股上市交易制度，目前新股上市后，都是连续一字板，所有股票的一年或者半年涨幅的前10%，基本上都被新股占据了。所以，目前大天朝A股的欧奈尔RPS曲线必须剔除新股的影响。</strong>
</p>

<p>
第一步，新建一个“上市一年以上”的自定义板块。
</p>

<p>
我们首先需要建立一个排除上市时间不足一年股票的板块。这个板块我取名为：上市一年以上。通达信软件的菜单—工具—自定义板块设置—新建板块。下图中，点击确定，就建立了“上市一年以上”板块，但板块中的股票需要另外添加。
</p>

<p>
<img src=../img/stock/rps1.png width=500px>
</p>

<p>
参考百度：通达信怎样建立自己的股票板块:
<a href="http://jingyan.baidu.com/article/5225f26b51f729e6fb090879.html?st=2&amp;net_type=&amp;bd_page_type=1&amp;os=0&amp;rst=&amp;word=%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5">http://jingyan.baidu.com/article/5225f26b51f729e6fb090879.html?st=2&amp;net_type=&amp;bd_page_type=1&amp;os=0&amp;rst=&amp;word=%E5%A6%82%E4%BD%95%E5%BB%BA%E7%AB%8B%E8%BF%9E%E6%8E%A5</a>
</p>

<p>
有两个途径将股票添加到这个“上市一年以上”板块。
</p>

<ul>
<li>
第一个途径:

</ul>

<p>
在通达信软件界面，输入：60，进入沪深A股板块，点击键盘右下角向右移动光标的键，直到找到“上市日期”这一列，点击一下，让所有A股按照顺序排列，然后输入“34”进行“数据导出”，选中”Excel文件“和“报表中所有数据“，导出后将一年内上市的股票删除，选中剩下的股票代码，复制到剪切板。
</p>

<p>
然后，导入“上市一年以上”这个板块（通达信软件的菜单—工具—自定义板块设置—上市一年以上—从文本中导入—粘贴—确定）。
</p>

<p>
<img src=../img/stock/rps2.png>
</p>

<p>
**我剔除了2016年6月1日及之后开始上市的股票，目前总共有2882只股票。
</p>

<p>
<img src=../img/stock/rps3.png>
</p>

<ul>
<li>
第二个途径：

</ul>

<p>
第二个是建立一个条件选股公式来选股到“上市一年以上”这个板块。条件选股公式很简单，如下：BARSCOUNT(C)&gt;N; N为参数，一般设为250
</p>

<p>
通达信软件，Control+F，条件选股公式—其他类型
</p>

<p>
<img src=../img/stock/rps4.png>
</p>

<p>
点击上图中的新建，进入下图：
</p>

<p>
<img src=../img/stock/rps5.png>
</p>

<p>
点击上图中的确定，即完成建立公式。然后选股到这样板块：通达信软件，Control+T，条件选股公式的下拉菜单中，选中：上市一年以上，选股范围为：沪深A股，然后点：加入条件，如下图：
</p>

<p>
<img src=../img/stock/rps6.png>
</p>
 

<p>
上图中，点击：选股入板块，再选中“上市一年以上”，确定，确定，最后选中2830只股票。这一步骤OVER。
</p>

<p>
<font color=red>
友情提醒：这个“上市一年以上“板块中的股票，需要手动更新，建议您一个月更新一次即可。
</font>
</p>

<h2 id="toc_0.3">第二步，新建一个技术指标的公式</h2>

<p>
建立一个小公式，命名为“EXTRS”，用来计算股票涨跌幅，N缺省值为250。
</p>
<pre>
EXTRS:(C-REF(C,N))/REF(C,N);
</pre>

<p>
通达信软件，Control+F，技术指标公式—其他类型
</p>

<p>
<img src=../img/stock/rps7.png>
</p>

<p>
点击上图中的新建，进入下图：
</p>

<p>
<img src=../img/stock/rps8.png>
</p>
 
<p>
点击上图中的确定，即完成建立公式。
</p>

<p>
<font color=red>
建议您无脑复制我的公式，如果您自己输入，有可能会少输入一点东东（例如右括号），而导致公司不能通过测试。
</font>
</p>

<h2 id="toc_0.4">第三步，建立扩展数据，对股票涨幅进行排序</h2>

<p>
通达信软件输入：.902，进入扩展数据管理器。 选中第1条扩展数据，如下图：
</p>

<p>
<img src=../img/stock/rps9.png>
</p>

<p>
点击上图中的修改，在扩展数据属性里首先设置数据1如下：
</p>

<ul>
<li>
技术指标公式选择新建的“EXTRS”指标

<li>
计算参数为120（对应半年期的RPS）

<li>
计算时段为本地所有数据

<li>
计算品种为“自定义板块”下面的“上市一年以上”这个板块

<li>
勾选“精确复权”及“生成横向排名数据”

<li>
排名方法为“0-1000归一化顺序”

</ul>

<p>
再重复上述步骤，在扩展数据属性里首先设置数据2，计算参数为250（对应一年期的RPS）。
</p>

<p>
<img src=../img/stock/rps10.png>
</p>
 
<h2 id="toc_0.5">第四步，再新建一个技术指标公式：股价相对强度RPS</h2>

<p>
用于在副图中添加RPS曲线。
</p>

<p>
通达信软件，Control+F，技术指标公式—其他类型—新建：
</p>

<p>
股价相对强度RPS, 出两条彩线的代码如下：
</p>

<p>
<img src=../img/stock/rps11.png>
</p>
<pre>
X:=EXTDATA_USER(1,0);{120天的RPS}
RPS120:X/10,LINETHICK2,COLORGREEN;
IF(RPS120&gt;=M,RPS120,DRAWNULL),LINETHICK2,COLORRED;
;

Y:=EXTDATA_USER(2,0);{250天的}
RPS250:Y/10,LINETHICK2,COLORWHITE;
IF(RPS250&gt;=M,RPS250,DRAWNULL),LINETHICK2,COLORRED;
</pre>

<p>
<font color=red>
M是参数，可以根据自己的偏好设为85-90，我个人偏好90。意思就是RPS大于90时，显示为红线。
</font>
</p>

<h2 id="toc_0.6">第五步，确保下载完整的历史数据</h2>

<p>
通达信软件的菜单—系统—盘后数据下载：请自行修改下载的开始时间
</p>

<p>
<font color=red><b>
切记1：首次要下载完整的历史数据！这个只需要操作一次。
切记2：需要每天存盘下载日线数据，并全部刷新两条扩展数据。这个操作每天收盘后，都需要进行一次，才能显示最新的RPS曲线。
</b></font>
</p>

<p>
<img src=../img/stock/rps12.png width=500px>
</p>

<p>
然后在股票K线界面输入：<code>RPS</code>。就出现两条RPS曲线了。
</p>

<p>
如某只股票的RPS曲线如下图，绿线为半年期RPS，白线为一年期RPS，超过90时，显示为红线，一目了然。
</p>

<h2 id="toc_0.7">常见问题及解答</h2>

<ul>
<li>
问：关于那个公式编辑。到extrs:(c-ref(c,n)/ref(c,n)。这里，说语句错误。我看你图片中语句的extrs变颜色，我的还是黑色，不是大小写问题，也没打错，就那几个字母，求解

<ul>
<li>
答：晕。请您认真一点。您的公式输错了。请无脑复制我的公式。

</ul>
</ul>

<ul>
<li>
问：陶博士，请教一下，我按你的方法设置RPS，为何大华股份11月27日的半年和一年的数值和你的不一样，明明都是按照你的方法设置了呀？

<ul>
<li>
答：可能是您的历史数据不全？请重新下载全部历史数据？然后刷新扩展数据。

</ul>
</ul>

<ul>
<li>
问：怎么刷新扩展数据？

<ul>
<li>
答：通达信软件输入：.902，进入扩展数据管理器。选中所有扩展数据，点击“全部刷新”。

</ul>
</ul>

<ul>
<li>
问：博士，为什么我的RPS曲线总是最后几天不显示？

<ul>
<li>
答：下载数据，每天刷新扩展数据。

</ul>
</ul>

<ul>
<li>
问：陶博士，您好。请问您用的通达信软件是付费的，我下载了免费的没法导入上市一年以上的自定义板块。请问还有没有其他的软件可以使用？谢谢

<ul>
<li>
答：我就是用的证券公司提供的免费软件。很多证券公司的软件都是以通达信为基础的，都可以实现。我没有使用过专门的通达信软件。

</ul>
</ul>

<ul>
<li>
问：如何快速查看所有RPS大于87的股票？

<ul>
<li>
答：可以在选股公式器里选择综合选股——技术指标选股——其他类型——RPS（条件设置选择RPS250大于87）建立股票池来观察。

</ul>
</ul>

<ul>
<li>
问：扩展数据管理器中，数据1和数据2的参数，会同步变化，点进去之后，显示是一样的。要么都是120，要么都是250。

<ul>
<li>
答：我的经验，只要扩展数据管理器中，显示的参数分别是120和250就可以了。如下图：

</ul>
</ul>

<p>
<img src=../img/stock/rps13.png> 
</p>
 
<ul>
<li>
问：RPS如何应用？

<ul>
<li>
答：本公众号对话框中仅回复：010，将向您推送“欧奈尔RPS应用举例”的文章，或者请您阅读欧奈尔的《笑傲股市》。 

</ul>
</ul>

<ul>
<li>
网友分享：

<ul>
<li>
陶博士，旧电脑设置RPS一直是一条线，怎么下载数据都不行。换了一台新电脑，同样的方法居然搞好了。所以有时候很多问题就是重启电脑或者换台电脑这么简单！上墙让他们看看

</ul>
</ul>

<ul>
<li>
网友分享：
<pre>
陶博士，您好！关于RPS有一位网友的问题：“关于RPS，发现一现象。
1.如剔除上市不足一年的新股，计算瞬间结束。如选沪深A股计算时间较长，能出现两条线。
此外选自定义板块（剔除上市不足一年的新股）计算结束后，点修改发现计算品种显示是空白。

2.如先选沪深A股，计算结束后删除，重建用自定义板块能出现两条。
如果用数据清理清除缓存中间数据或首次建数据，RPS只能一条线。

3原因可能出在软件上，表面接受自定义板块其实不接受，从计数刷新时间和建完后修改发现自定义板块是空白判断”，
我也遇到这个问题，后来我把“上市一周年”这个自定义板块的名字改成汉语拼音首字母"SSYZN"，然后系统就接收了，在扩展数据管理器窗口，点击刷新后就系统就会正常计算1-2分钟，然后RPS数值也就是剔除新股后的数值了。
</pre>

</ul>
 
<ul>
<li>
网友分享：

<ul>
<li>
帮博士解答好多人提的RPS设置问题：若不正常，建议删除原来的数据1和数据2,重新建立。我原来按第一篇文章建好后，再按第二篇剔除新股后的方法修改数据(没有删除后重建)，始终只一条线。

</ul>
</ul>

<ul>
<li>
网友分享：
<pre>
说点自己设置rps的经验。

1 之前看留言，很多人说120和250会同步变化，我也遇到这个情况了。

首先可以设置两个不同的参数，分别对应120和250，分别引用。不懂的可以照猫画虎，自己研究。
其次建议不用现在的通达信股票软件，重新从证券公司下载一个干净的软件。
我就是通过这两个方法解决的，现在的rps数值计算的几个股票，和陶博士公布的基本一致。

2 可以给rps参数增加一个颜色，比如大于87为黄色，大于95为红色，线条加粗。这样更加明显和直观。代码如下：

X:=EXTDATA_USER(1,0);
RPS120:X/10;
IF((X/10)&gt;=87,RPS120,DRAWNULL),LINETHICK1,COLORYELLOW;IF((X/10)&gt;=95,RPS120,DRAWNULL),LINETHICK2,COLORRED;
</pre>

</ul>

<p>
（本文完成于2017年5月5日）
</p>

</div>
<div id="footer">
<p>
&copy; 2012 - 2021 XStar
&nbsp;|&nbsp;<a href="http://code.google.com/p/vimwiki/" title="vimwiki">Powerby:Vimwiki</a>
&nbsp;|&nbsp;<a href="http://kwiki.github.io" title="丘迟">Style:丘迟</a>
&nbsp;|&nbsp;<a href="../index.html">首页</a>
&nbsp;|&nbsp;<a href="index.html">分类首页</a>
&nbsp;|&nbsp;<a href="../SiteMap.html">站点地图</a>
</p>
</div>
<script type="text/javascript">var vimwiki_rootpath="../";</script>
<script type="text/javascript" src="https://cdn.staticfile.org/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript" src="../scripts/vimwiki.js"></script>
</body>
</html>

