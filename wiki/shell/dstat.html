<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" type="text/css" href="../styles/style.css" />
    <title>dstat/sar</title>
</head>
<body>
<div id="header">
    <ul id="top-nav">
    <li><a href="../index.html">首页</a></li>
    <li><a href="index.html">分类首页</a></li>
    </ul>
</div>
<div id="cse"></div>
<div id="main">

<h1>dstat/sar</h1>

<p>
官方网站：<a href="http://dag.wieers.com/rpm/packages/dstat/">http://dag.wieers.com/rpm/packages/dstat/</a>
</p>

<p>
你可以这样使用：
</p>
<pre>
alias dstat='dstat -cdlmnpsy'
</pre>
<ul>
<li>
数值说明

</ul>
<table>
<tr>
<td>
参数
</td>
<td>
解释(从/proc/stat获得数据)
</td>
</tr>
<tr>
<td>
CPU
</td>
<td>
处理器ID
</td>
</tr>
<tr>
<td>
usr
</td>
<td>
在internal时间段里，用户态的CPU时间(%)，不包含 nice值为负 进程 (usr/total)*100
</td>
</tr>
<tr>
<td>
nice
</td>
<td>
在internal时间段里，nice值为负进程的CPU时间(%)   (nice/total)*100
</td>
</tr>
<tr>
<td>
system
</td>
<td>
在internal时间段里，核心时间(%)   (system/total)*100
</td>
</tr>
<tr>
<td>
iowait
</td>
<td>
在internal时间段里，硬盘IO等待时间(%) (iowait/total)*100
</td>
</tr>
<tr>
<td>
irq
</td>
<td>
在internal时间段里，硬中断时间(%)      (irq/total)*100
</td>
</tr>
<tr>
<td>
soft
</td>
<td>
在internal时间段里，软中断时间(%)    (softirq/total)*100
</td>
</tr>
<tr>
<td>
idle
</td>
<td>
在internal时间段里，CPU除去等待磁盘IO操作外的因为任何原因而空闲的时间闲置时间(%)(idle/total)*100
</td>
</tr>
<tr>
<td>
intr/s
</td>
<td>
在internal时间段里，每秒CPU接收的中断的次数intr/total)*100
</td>
</tr>
<tr>
<td rowspan="5">
CPU总工作时间
</td>
<td>
total_cur=user+system+nice+idle+iowait+irq+softirq
</td>
</tr>
<tr>
<td>
total_pre=pre_user+pre_system+pre_nice+pre_idle+pre_iowait+pre_irq+pre_softirq
</td>
</tr>
<tr>
<td>
user=user_cur–user_pre
</td>
</tr>
<tr>
<td>
total=total_cur-total_pre
</td>
</tr>
<tr>
<td>
其中_cur 表示当前值，_pre表示interval时间前的值。
</td>
</tr>
</table>

<p>
上表中的所有值可取到两位小数点。
</p>

<ul>
<li>
help
<pre>
Usage: dstat [-afv] [options..] [delay [count]]
Versatile tool for generating system resource statistics

Dstat options:
  -c, --cpu              enable cpu stats
     -C 0,3,total           include cpu0, cpu3 and total
  -d, --disk             enable disk stats
     -D total,hda           include hda and total
  -g, --page             enable page stats
  -i, --int              enable interrupt stats
     -I 5,eth2              include int5 and interrupt used by eth2
  -l, --load             enable load stats
  -m, --mem              enable memory stats
  -n, --net              enable network stats
     -N eth1,total          include eth1 and total
  -p, --proc             enable process stats
  -r, --io               enable io stats (I/O requests completed)
  -s, --swap             enable swap stats
     -S swap1,total         include swap1 and total
  -t, --time             enable time/date output
  -T, --epoch            enable time counter (seconds since epoch)
  -y, --sys              enable system stats

  --aio                  enable aio stats
  --fs, --filesystem     enable fs stats
  --ipc                  enable ipc stats
  --lock                 enable lock stats
  --raw                  enable raw stats
  --socket               enable socket stats
  --tcp                  enable tcp stats
  --udp                  enable udp stats
  --unix                 enable unix stats
  --vm                   enable vm stats

  --plugin-name          enable plugins by plugin name (see manual)
  --list                 list all available plugins

  -a, --all              equals -cdngy (default)
  -f, --full             automatically expand -C, -D, -I, -N and -S lists
  -v, --vmstat           equals -pmgdsc -D total

  --bw, --blackonwhite   change colors for white background terminal
  --float                force float values on screen
  --integer              force integer values on screen
  --nocolor              disable colors (implies --noupdate)
  --noheaders            disable repetitive headers
  --noupdate             disable intermediate updates
  --output file          write CSV output to file

delay is the delay in seconds between each update (default: 1)
count is the number of updates to display before exiting (default: unlimited)

</pre>

</ul>

</div>
<div id="footer">
<p>
&copy; 2012 - 2021 XStar
&nbsp;|&nbsp;<a href="http://code.google.com/p/vimwiki/" title="vimwiki">Powerby:Vimwiki</a>
&nbsp;|&nbsp;<a href="http://kwiki.github.io" title="丘迟">Style:丘迟</a>
&nbsp;|&nbsp;<a href="../index.html">首页</a>
&nbsp;|&nbsp;<a href="index.html">分类首页</a>
&nbsp;|&nbsp;<a href="../SiteMap.html">站点地图</a>
</p>
</div>
<script type="text/javascript">var vimwiki_rootpath="../";</script>
<script type="text/javascript" src="https://cdn.staticfile.org/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript" src="../scripts/vimwiki.js"></script>
</body>
</html>

