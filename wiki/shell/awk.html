<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link rel="Stylesheet" type="text/css" href="../styles/style.css" />
    <title>awk</title>
</head>
<body>
<div id="header">
    <ul id="top-nav">
    <li><a href="../index.html">é¦–é¡µ</a></li>
    <li><a href="index.html">åˆ†ç±»é¦–é¡µ</a></li>
    </ul>
</div>
<div id="cse"></div>
<div id="main">

<div class="toc">
<ul>
<li><a href="#toc_1">awk</a>
<ul>
<li><a href="#toc_1.1">è¯¦è§£è‘—åçš„awk oneliner</a>
<li><a href="#toc_1.2">awk_tips</a>
<li><a href="#toc_1.3">AWK ç®€æ˜æ•™ç¨‹</a>
<ul>
<li><a href="#toc_1.3.1">èµ·æ­¥ä¸Šå°</a>
<li><a href="#toc_1.3.2">è„±æ‰å¤–å¥—</a>
<ul>
<li><a href="#toc_1.3.2.1">è¿‡æ»¤è®°å½•</a>
<li><a href="#toc_1.3.2.2">å†…å»ºå˜é‡</a>
<li><a href="#toc_1.3.2.3">æŒ‡å®šåˆ†éš”ç¬¦</a>
</ul>
<li><a href="#toc_1.3.3">è„±æ‰è¡¬è¡«</a>
<ul>
<li><a href="#toc_1.3.3.1">å­—ç¬¦ä¸²åŒ¹é…</a>
<li><a href="#toc_1.3.3.2">æŠ˜åˆ†æ–‡ä»¶</a>
<li><a href="#toc_1.3.3.3">ç»Ÿè®¡</a>
</ul>
<li><a href="#toc_1.3.4">è„±æ‰å†…è¡£</a>
<ul>
<li><a href="#toc_1.3.4.1">awkè„šæœ¬</a>
<li><a href="#toc_1.3.4.2">ç¯å¢ƒå˜é‡</a>
<li><a href="#toc_1.3.4.3">å‡ ä¸ªèŠ±æ´»</a>
</ul>
<li><a href="#toc_1.3.5">è‡ªå·±æ’¸å§</a>
</ul>
<li><a href="#toc_1.4">JSON.awk</a>
<li><a href="#toc_1.5">è§£æ/proc/net/tcp</a>
</ul>
</ul>
</div>

<h1 id="toc_1">awk</h1>

<h2 id="toc_1.1"><a href="awk_oneliner.html">è¯¦è§£è‘—åçš„awk oneliner</a></h2>

<ul>
<li>
<a href="http://www.avamar.cn/?p=288">http://www.avamar.cn/?p=288</a>

<li>
<a href="http://www.catonmat.net/blog/awk-one-liners-explained-part-one/">http://www.catonmat.net/blog/awk-one-liners-explained-part-one/</a>

</ul>

<h2 id="toc_1.2"><a href="awk_tips.html">awk_tips</a></h2>

<h2 id="toc_1.3">AWK ç®€æ˜æ•™ç¨‹</h2>

<p>
è½¬è‡³: <a href="http://coolshell.cn/articles/9070.html">http://coolshell.cn/articles/9070.html</a>
</p>

<p>
2013å¹´2æœˆ17æ—¥ <a href="http://coolshell.cn/articles/author/haoel">é™ˆçš“</a>
</p>

<p>
æœ‰ä¸€äº›ç½‘å‹çœ‹äº†å‰ä¸¤å¤©çš„<a href="http://coolshell.cn/articles/8883.html">ã€ŠLinuxä¸‹åº”è¯¥çŸ¥é“çš„æŠ€å·§ã€‹</a>å¸Œæœ›æˆ‘èƒ½æ•™æ•™ä»–ä»¬ç”¨awkå’Œsedï¼Œæ‰€ä»¥ï¼Œå‡ºç°äº†è¿™ç¯‡æ–‡ç« ã€‚æˆ‘ä¼°è®¡è¿™äº›80åçš„å¹´è½»æœ‹å‹å¯èƒ½å¯¹awk/sedè¿™ç±»ä¸Šå¤ç¥å™¨æœ‰ç‚¹é™Œç”Ÿäº†ï¼Œæ‰€ä»¥éœ€è¦æˆ‘è¿™ä¸ªè€å®¶ä¼™æ¥ç‚’ç‚’å†·é¥­ã€‚å†µä¸”ï¼ŒAWKæ˜¯è´å°”å®éªŒå®¤1977å¹´æå‡ºæ¥çš„æ–‡æœ¬å‡ºç°ç¥å™¨ï¼Œä»Šå¹´æ˜¯è›‡å¹´ï¼Œæ˜¯AWKçš„æœ¬å‘½å¹´ï¼Œè€Œä¸”å¹´çºªå’Œæˆ‘ç›¸ä»¿ï¼Œæ‰€ä»¥éå¸¸æœ‰å¿…è¦ä¸ºä»–å†™ç¯‡æ–‡ç« ã€‚
</p>

<p>
ä¹‹æ‰€ä»¥å«AWKæ˜¯å› ä¸ºå…¶å–äº†ä¸‰ä½åˆ›å§‹äºº Alfred Ahoï¼ŒPeter Weinberger, å’Œ Brian Kernighan çš„Family Nameçš„é¦–å­—ç¬¦ã€‚è¦å­¦AWKï¼Œå°±å¾—æä¸€æAWKçš„ä¸€æœ¬ç›¸å½“ç»å…¸çš„ä¹¦<a href="http://plan9.bell-labs.com/cm/cs/awkbook/">ã€ŠThe AWK Programming Languageã€‹</a>ï¼Œå®ƒåœ¨è±†ç“£ä¸Šçš„è¯„åˆ†æ˜¯9.4åˆ†ï¼åœ¨<a href="http://plan9.bell-labs.com/cm/cs/awkbook/">äºšé©¬é€Šä¸Šå±…ç„¶å–1022.30å…ƒ</a>ã€‚
</p>

<p>
æˆ‘åœ¨è¿™é‡Œçš„æ•™ç¨‹å¹¶ä¸æƒ³é¢é¢ä¿±åˆ°ï¼Œæœ¬æ–‡å’Œæˆ‘ä¹‹å‰çš„Goè¯­è¨€ç®€ä»‹ä¸€æ ·ï¼Œå…¨æ˜¯ç¤ºä¾‹ï¼ŒåŸºæœ¬æ— åºŸè¯ã€‚
</p>

<p>
æˆ‘åªæƒ³è¾¾åˆ°ä¸¤ä¸ªç›®çš„ï¼š
</p>

<ol>
<li>
ä½ å¯ä»¥åœ¨ä¹˜åå…¬äº¤åœ°é“ä¸Šä¸‹ç­ï¼Œæˆ–æ˜¯åœ¨åé©¬æ¡¶æ‹‰å¤§ä¾¿æ—¶è¯»å®Œï¼ˆä¿è¯æ˜¯ä¸€æ³¡å¤§ä¾¿çš„å·¥å¤«ï¼‰ã€‚

<li>
æˆ‘åªæƒ³è®©è¿™ç¯‡åšæ–‡åƒä¸€ä¸ªç«è¾£çš„è„±è¡£èˆå¥³æŒ‘èµ·ä½ çš„å…´è¶£ï¼Œç„¶åè¿˜è¦ä½ è‡ªå·±å»ä¸‹å·¥å¤«å»æ’¸ã€‚

</ol>

<p>
åºŸè¯å°‘è¯´ï¼Œæˆ‘ä»¬å¼€å§‹è„±å§ï¼ˆæ³¨ï¼šè¿™é‡Œåªæ˜¯toplessï¼‰ã€‚
</p>

<h3 id="toc_1.3.1">èµ·æ­¥ä¸Šå°</h3>

<p>
æˆ‘ä»netstatå‘½ä»¤ä¸­æå–äº†å¦‚ä¸‹ä¿¡æ¯ä½œä¸ºç”¨ä¾‹ï¼š
</p>

<pre class="brush:bash">
$ cat netstat.txt
Proto Recv-Q Send-Q Local-Address          Foreign-Address             State
tcp        0      0 0.0.0.0:3306           0.0.0.0:*                   LISTEN
tcp        0      0 0.0.0.0:80             0.0.0.0:*                   LISTEN
tcp        0      0 127.0.0.1:9000         0.0.0.0:*                   LISTEN
tcp        0      0 coolshell.cn:80        124.205.5.146:18245         TIME_WAIT
tcp        0      0 coolshell.cn:80        61.140.101.185:37538        FIN_WAIT2
tcp        0      0 coolshell.cn:80        110.194.134.189:1032        ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49809       ESTABLISHED
tcp        0      0 coolshell.cn:80        116.234.127.77:11502        FIN_WAIT2
tcp        0      0 coolshell.cn:80        123.169.124.111:49829       ESTABLISHED
tcp        0      0 coolshell.cn:80        183.60.215.36:36970         TIME_WAIT
tcp        0   4166 coolshell.cn:80        61.148.242.38:30901         ESTABLISHED
tcp        0      1 coolshell.cn:80        124.152.181.209:26825       FIN_WAIT1
tcp        0      0 coolshell.cn:80        110.194.134.189:4796        ESTABLISHED
tcp        0      0 coolshell.cn:80        183.60.212.163:51082        TIME_WAIT
tcp        0      1 coolshell.cn:80        208.115.113.92:50601        LAST_ACK
tcp        0      0 coolshell.cn:80        123.169.124.111:49840       ESTABLISHED
tcp        0      0 coolshell.cn:80        117.136.20.85:50025         FIN_WAIT2
tcp        0      0 :::22                  :::*                        LISTEN
</pre>

<p>
ä¸‹é¢æ˜¯æœ€ç®€å•æœ€å¸¸ç”¨çš„awkç¤ºä¾‹ï¼Œå…¶è¾“å‡ºç¬¬1åˆ—å’Œç¬¬4ä¾‹ï¼Œ
</p>

<p>
å…¶ä¸­å•å¼•å·ä¸­çš„è¢«å¤§æ‹¬å·æ‹¬ç€çš„å°±æ˜¯awkçš„è¯­å¥ï¼Œæ³¨æ„ï¼Œå…¶åªèƒ½è¢«å•å¼•å·åŒ…å«ã€‚
å…¶ä¸­çš„<code>\(1..\)n</code>è¡¨ç¤ºç¬¬å‡ åˆ—ã€‚æ³¨ï¼š<code>$0</code>è¡¨ç¤ºæ•´ä¸ªè¡Œã€‚
</p>

<pre class="brush:bash">
$ awk '{print $1, $4}' netstat.txt
Proto Local-Address
tcp 0.0.0.0:3306
tcp 0.0.0.0:80
tcp 127.0.0.1:9000
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp coolshell.cn:80
tcp :::22
</pre>

<p>
æˆ‘ä»¬å†æ¥çœ‹çœ‹awkçš„æ ¼å¼åŒ–è¾“å‡ºï¼Œå’ŒCè¯­è¨€çš„printfæ²¡ä»€ä¹ˆä¸¤æ ·ï¼š
</p>

<pre class="brush:bash">
$ awk '{printf "%-8s %-8s %-8s %-18s %-22s %-15s\n",$1,$2,$3,$4,$5,$6}' netstat.txt
Proto    Recv-Q   Send-Q   Local-Address      Foreign-Address        State
tcp      0        0        0.0.0.0:3306       0.0.0.0:*              LISTEN
tcp      0        0        0.0.0.0:80         0.0.0.0:*              LISTEN
tcp      0        0        127.0.0.1:9000     0.0.0.0:*              LISTEN
tcp      0        0        coolshell.cn:80    124.205.5.146:18245    TIME_WAIT
tcp      0        0        coolshell.cn:80    61.140.101.185:37538   FIN_WAIT2
tcp      0        0        coolshell.cn:80    110.194.134.189:1032   ESTABLISHED
tcp      0        0        coolshell.cn:80    123.169.124.111:49809  ESTABLISHED
tcp      0        0        coolshell.cn:80    116.234.127.77:11502   FIN_WAIT2
tcp      0        0        coolshell.cn:80    123.169.124.111:49829  ESTABLISHED
tcp      0        0        coolshell.cn:80    183.60.215.36:36970    TIME_WAIT
tcp      0        4166     coolshell.cn:80    61.148.242.38:30901    ESTABLISHED
tcp      0        1        coolshell.cn:80    124.152.181.209:26825  FIN_WAIT1
tcp      0        0        coolshell.cn:80    110.194.134.189:4796   ESTABLISHED
tcp      0        0        coolshell.cn:80    183.60.212.163:51082   TIME_WAIT
tcp      0        1        coolshell.cn:80    208.115.113.92:50601   LAST_ACK
tcp      0        0        coolshell.cn:80    123.169.124.111:49840  ESTABLISHED
tcp      0        0        coolshell.cn:80    117.136.20.85:50025    FIN_WAIT2
tcp      0        0        :::22              :::*                   LISTEN
</pre>

<h3 id="toc_1.3.2">è„±æ‰å¤–å¥—</h3>

<h4 id="toc_1.3.2.1">è¿‡æ»¤è®°å½•</h4>

<p>
æˆ‘ä»¬å†æ¥çœ‹çœ‹å¦‚ä½•è¿‡æ»¤è®°å½•ï¼ˆä¸‹é¢è¿‡æ»¤æ¡ä»¶ä¸ºï¼šç¬¬ä¸‰åˆ—çš„å€¼ä¸º0 &amp;&amp; ç¬¬6åˆ—çš„å€¼ä¸ºLISTENï¼‰
</p>

<pre class="brush:bash">
$ awk '$3==0 &amp;&amp; $6=="LISTEN" ' netstat.txt
tcp        0      0 0.0.0.0:3306               0.0.0.0:*              LISTEN
tcp        0      0 0.0.0.0:80                 0.0.0.0:*              LISTEN
tcp        0      0 127.0.0.1:9000             0.0.0.0:*              LISTEN
tcp        0      0 :::22                      :::*                   LISTEN
</pre>

<p>
å…¶ä¸­çš„<code>==</code>ä¸ºæ¯”è¾ƒè¿ç®—ç¬¦ã€‚å…¶ä»–æ¯”è¾ƒè¿ç®—ç¬¦ï¼š<code>!=, &gt;, &lt;, &gt;=, &lt;=</code>
</p>

<p>
æˆ‘ä»¬æ¥çœ‹çœ‹å„ç§è¿‡æ»¤è®°å½•çš„æ–¹å¼ï¼š
</p>

<pre class="brush:bash">
$ awk ' $3&gt;0 {print $0}' netstat.txt
Proto Recv-Q Send-Q Local-Address          Foreign-Address             State
tcp        0   4166 coolshell.cn:80        61.148.242.38:30901         ESTABLISHED
tcp        0      1 coolshell.cn:80        124.152.181.209:26825       FIN_WAIT1
tcp        0      1 coolshell.cn:80        208.115.113.92:50601        LAST_ACK
</pre>

<p>
å¦‚æœæˆ‘ä»¬éœ€è¦è¡¨å¤´çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥å†…å»ºå˜é‡NRï¼š
</p>

<pre class="brush:bash">
$ awk '$3==0 &amp;&amp; $6=="LISTEN" || NR==1 ' netstat.txt
Proto Recv-Q Send-Q Local-Address          Foreign-Address             State
tcp        0      0 0.0.0.0:3306           0.0.0.0:*                   LISTEN
tcp        0      0 0.0.0.0:80             0.0.0.0:*                   LISTEN
tcp        0      0 127.0.0.1:9000         0.0.0.0:*                   LISTEN
tcp        0      0 :::22                  :::*                        LISTEN
</pre>

<p>
å†åŠ ä¸Šæ ¼å¼åŒ–è¾“å‡ºï¼š
</p>

<pre class="brush:bash">
$ awk '$3==0 &amp;&amp; $6=="LISTEN" || NR==1 {printf "%-20s %-20s %s\n",$4,$5,$6}' netstat.txt
Local-Address        Foreign-Address      State
0.0.0.0:3306         0.0.0.0:*            LISTEN
0.0.0.0:80           0.0.0.0:*            LISTEN
127.0.0.1:9000       0.0.0.0:*            LISTEN
:::22                :::*                 LISTEN
</pre>

<h4 id="toc_1.3.2.2">å†…å»ºå˜é‡</h4>

<p>
è¯´åˆ°äº†å†…å»ºå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ¥çœ‹çœ‹awkçš„ä¸€äº›å†…å»ºå˜é‡ï¼š
</p>

<table>
<tr>
<th>
å˜é‡
</th>
<th>
å«ä¹‰
</th>
</tr>
<tr>
<td>
$0
</td>
<td>
å½“å‰è®°å½•ï¼ˆè¿™ä¸ªå˜é‡ä¸­å­˜æ”¾ç€æ•´ä¸ªè¡Œçš„å†…å®¹ï¼‰
</td>
</tr>
<tr>
<td>
\(1~\)n
</td>
<td>
å½“å‰è®°å½•çš„ç¬¬nä¸ªå­—æ®µï¼Œå­—æ®µé—´ç”±FSåˆ†éš”
</td>
</tr>
<tr>
<td>
NF
</td>
<td>
å½“å‰è®°å½•ä¸­çš„å­—æ®µä¸ªæ•°ï¼Œå°±æ˜¯æœ‰å¤šå°‘åˆ—(print $(NF-1)æ‰“å°å€’æ•°ç¬¬äºŒä¸ªå­—æ®µ
</td>
</tr>
<tr>
<td>
NR
</td>
<td>
å·²ç»è¯»å‡ºçš„è®°å½•æ•°ï¼Œå°±æ˜¯è¡Œå·ï¼Œä»1å¼€å§‹ï¼Œå¦‚æœæœ‰å¤šä¸ªæ–‡ä»¶è¯ï¼Œè¿™ä¸ªå€¼ä¹Ÿæ˜¯ä¸æ–­ç´¯åŠ ä¸­ã€‚
</td>
</tr>
<tr>
<td>
FNR
</td>
<td>
å½“å‰è®°å½•æ•°ï¼Œä¸NRä¸åŒçš„æ˜¯ï¼Œè¿™ä¸ªå€¼ä¼šæ˜¯å„ä¸ªæ–‡ä»¶è‡ªå·±çš„è¡Œå·
</td>
</tr>
<tr>
<td>
FS
</td>
<td>
è¾“å…¥å­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼æˆ–Tab
</td>
</tr>
<tr>
<td>
OFS
</td>
<td>
è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¹Ÿæ˜¯ç©ºæ ¼
</td>
</tr>
<tr>
<td>
RS
</td>
<td>
è¾“å…¥çš„è®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºæ¢è¡Œç¬¦
</td>
</tr>
<tr>
<td>
ORS
</td>
<td>
è¾“å‡ºçš„è®°å½•åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºæ¢è¡Œç¬¦
</td>
</tr>
<tr>
<td>
FILENAME
</td>
<td>
å½“å‰è¾“å…¥æ–‡ä»¶çš„åå­—
</td>
</tr>
</table>

<p>
æ€ä¹ˆä½¿ç”¨å‘¢ï¼Œæ¯”å¦‚ï¼šæˆ‘ä»¬å¦‚æœè¦è¾“å‡ºè¡Œå·ï¼š
</p>
<pre class="brush:bash">
$ awk '$3==0 &amp;&amp; $6=="ESTABLISHED" || NR==1 {printf "%02s %s %-20s %-20s %s\n",NR, FNR, $4,$5,$6}' netstat.txt
01 1 Local-Address        Foreign-Address      State
07 7 coolshell.cn:80      110.194.134.189:1032  ESTABLISHED
08 8 coolshell.cn:80      123.169.124.111:49809 ESTABLISHED
10 10 coolshell.cn:80     123.169.124.111:49829 ESTABLISHED
14 14 coolshell.cn:80     110.194.134.189:4796  ESTABLISHED
17 17 coolshell.cn:80     123.169.124.111:49840 ESTABLISHED
</pre>

<h4 id="toc_1.3.2.3">æŒ‡å®šåˆ†éš”ç¬¦</h4>

<pre class="brush:bash">
$ awk 'BEGIN{FS=":"} {print $1,$3,$6}' /etc/passwd
root 0 /root
bin 1 /bin
daemon 2 /sbin
adm 3 /var/adm
lp 4 /var/spool/lpd
sync 5 /sbin
shutdown 6 /sbin
halt 7 /sbin
</pre>

<p>
ä¸Šé¢çš„å‘½ä»¤ä¹Ÿç­‰ä»·äºï¼šï¼ˆ-Fçš„æ„æ€å°±æ˜¯æŒ‡å®šåˆ†éš”ç¬¦ï¼‰
</p>
<pre class="brush:bash">
$ awk  -F: '{print $1,$3,$6}' /etc/passwd
</pre>

<p>
æ³¨ï¼šå¦‚æœä½ è¦æŒ‡å®šå¤šä¸ªåˆ†éš”ç¬¦ï¼Œä½ å¯ä»¥è¿™æ ·æ¥ï¼š
</p>
<pre class="brush:bash">
awk -F '[;:]'
</pre>

<p>
å†æ¥çœ‹ä¸€ä¸ªä»¥\tä½œä¸ºåˆ†éš”ç¬¦è¾“å‡ºçš„ä¾‹å­ï¼ˆä¸‹é¢ä½¿ç”¨äº†/etc/passwdæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ä»¥:åˆ†éš”çš„ï¼‰ï¼š
</p>
<pre class="brush:bash">
$ awk -F: '{print $1,$3,$6}' OFS="\t" /etc/passwd
root    0       /root
bin     1       /bin
daemon  2       /sbin
adm     3       /var/adm
lp      4       /var/spool/lpd
sync    5       /sbin
</pre>

<h3 id="toc_1.3.3">è„±æ‰è¡¬è¡«</h3>

<h4 id="toc_1.3.3.1">å­—ç¬¦ä¸²åŒ¹é…</h4>

<p>
æˆ‘ä»¬å†æ¥çœ‹å‡ ä¸ªå­—ç¬¦ä¸²åŒ¹é…çš„ç¤ºä¾‹ï¼š
</p>

<pre class="brush:bash">
$ awk '$6 ~ /FIN/ || NR==1 {print NR,$4,$5,$6}' OFS="\t" netstat.txt
1       Local-Address   Foreign-Address State
6       coolshell.cn:80 61.140.101.185:37538    FIN_WAIT2
9       coolshell.cn:80 116.234.127.77:11502    FIN_WAIT2
13      coolshell.cn:80 124.152.181.209:26825   FIN_WAIT1
18      coolshell.cn:80 117.136.20.85:50025     FIN_WAIT2
 
$ awk '$6 ~ /WAIT/ || NR==1 {print NR,$4,$5,$6}' OFS="\t" netstat.txt
1       Local-Address   Foreign-Address State
5       coolshell.cn:80 124.205.5.146:18245     TIME_WAIT
6       coolshell.cn:80 61.140.101.185:37538    FIN_WAIT2
9       coolshell.cn:80 116.234.127.77:11502    FIN_WAIT2
11      coolshell.cn:80 183.60.215.36:36970     TIME_WAIT
13      coolshell.cn:80 124.152.181.209:26825   FIN_WAIT1
15      coolshell.cn:80 183.60.212.163:51082    TIME_WAIT
18      coolshell.cn:80 117.136.20.85:50025     FIN_WAIT2
</pre>

<p>
ä¸Šé¢çš„ç¬¬ä¸€ä¸ªç¤ºä¾‹åŒ¹é…FINçŠ¶æ€ï¼Œ ç¬¬äºŒä¸ªç¤ºä¾‹åŒ¹é…WAITå­—æ ·çš„çŠ¶æ€ã€‚å…¶å® ~ è¡¨ç¤ºæ¨¡å¼å¼€å§‹ã€‚/ /ä¸­æ˜¯æ¨¡å¼ã€‚è¿™å°±æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åŒ¹é…ã€‚
</p>

<p>
å…¶å®awkå¯ä»¥åƒgrepä¸€æ ·çš„å»åŒ¹é…ç¬¬ä¸€è¡Œï¼Œå°±åƒè¿™æ ·ï¼š
</p>
<pre class="brush:bash">
$ awk '/LISTEN/' netstat.txt
tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN
tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN
tcp        0      0 127.0.0.1:9000          0.0.0.0:*               LISTEN
tcp        0      0 :::22                   :::*                    LISTEN
</pre>

<p>
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ â€œ/FIN|TIME/â€ æ¥åŒ¹é… FIN æˆ–è€… TIME :
</p>
<pre class="brush:bash">
$ awk '$6 ~ /FIN|TIME/ || NR==1 {print NR,$4,$5,$6}' OFS="\t" netstat.txt
1       Local-Address   Foreign-Address State
5       coolshell.cn:80 124.205.5.146:18245     TIME_WAIT
6       coolshell.cn:80 61.140.101.185:37538    FIN_WAIT2
9       coolshell.cn:80 116.234.127.77:11502    FIN_WAIT2
11      coolshell.cn:80 183.60.215.36:36970     TIME_WAIT
13      coolshell.cn:80 124.152.181.209:26825   FIN_WAIT1
15      coolshell.cn:80 183.60.212.163:51082    TIME_WAIT
18      coolshell.cn:80 117.136.20.85:50025     FIN_WAIT2
</pre>

<p>
å†æ¥çœ‹çœ‹æ¨¡å¼å–åçš„ä¾‹å­ï¼š
</p>
<pre class="brush:bash">
$ awk '$6 !~ /WAIT/ || NR==1 {print NR,$4,$5,$6}' OFS="\t" netstat.txt
1       Local-Address   Foreign-Address State
2       0.0.0.0:3306    0.0.0.0:*       LISTEN
3       0.0.0.0:80      0.0.0.0:*       LISTEN
4       127.0.0.1:9000  0.0.0.0:*       LISTEN
7       coolshell.cn:80 110.194.134.189:1032    ESTABLISHED
8       coolshell.cn:80 123.169.124.111:49809   ESTABLISHED
10      coolshell.cn:80 123.169.124.111:49829   ESTABLISHED
12      coolshell.cn:80 61.148.242.38:30901     ESTABLISHED
14      coolshell.cn:80 110.194.134.189:4796    ESTABLISHED
16      coolshell.cn:80 208.115.113.92:50601    LAST_ACK
17      coolshell.cn:80 123.169.124.111:49840   ESTABLISHED
19      :::22   :::*    LISTEN
</pre>

<p>
æˆ–æ˜¯ï¼š
</p>
<pre class="brush:bash">
awk '!/WAIT/' netstat.txt
</pre>

<h4 id="toc_1.3.3.2">æŠ˜åˆ†æ–‡ä»¶</h4>

<p>
awkæ‹†åˆ†æ–‡ä»¶å¾ˆç®€å•ï¼Œä½¿ç”¨é‡å®šå‘å°±å¥½äº†ã€‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼Œæ˜¯æŒ‰ç¬¬6ä¾‹åˆ†éš”æ–‡ä»¶ï¼Œç›¸å½“çš„ç®€å•ï¼ˆå…¶ä¸­çš„NR!=1è¡¨ç¤ºä¸å¤„ç†è¡¨å¤´ï¼‰ã€‚
</p>
<pre class="brush:bash">
$ awk 'NR!=1{print &gt; $6}' netstat.txt
 
$ ls
ESTABLISHED  FIN_WAIT1  FIN_WAIT2  LAST_ACK  LISTEN  netstat.txt  TIME_WAIT
 
$ cat ESTABLISHED
tcp        0      0 coolshell.cn:80        110.194.134.189:1032        ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49809       ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49829       ESTABLISHED
tcp        0   4166 coolshell.cn:80        61.148.242.38:30901         ESTABLISHED
tcp        0      0 coolshell.cn:80        110.194.134.189:4796        ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49840       ESTABLISHED
 
$ cat FIN_WAIT1
tcp        0      1 coolshell.cn:80        124.152.181.209:26825       FIN_WAIT1
 
$ cat FIN_WAIT2
tcp        0      0 coolshell.cn:80        61.140.101.185:37538        FIN_WAIT2
tcp        0      0 coolshell.cn:80        116.234.127.77:11502        FIN_WAIT2
tcp        0      0 coolshell.cn:80        117.136.20.85:50025         FIN_WAIT2
 
$ cat LAST_ACK
tcp        0      1 coolshell.cn:80        208.115.113.92:50601        LAST_ACK
 
$ cat LISTEN
tcp        0      0 0.0.0.0:3306           0.0.0.0:*                   LISTEN
tcp        0      0 0.0.0.0:80             0.0.0.0:*                   LISTEN
tcp        0      0 127.0.0.1:9000         0.0.0.0:*                   LISTEN
tcp        0      0 :::22                  :::*                        LISTEN
 
$ cat TIME_WAIT
tcp        0      0 coolshell.cn:80        124.205.5.146:18245         TIME_WAIT
tcp        0      0 coolshell.cn:80        183.60.215.36:36970         TIME_WAIT
tcp        0      0 coolshell.cn:80        183.60.212.163:51082        TIME_WAIT
</pre>

<p>
ä½ ä¹Ÿå¯ä»¥æŠŠæŒ‡å®šçš„åˆ—è¾“å‡ºåˆ°æ–‡ä»¶ï¼š
</p>
<pre class="brush:bash">
awk 'NR!=1{print $4,$5 &gt; $6}' netstat.txt
</pre>

<p>
å†å¤æ‚ä¸€ç‚¹ï¼šï¼ˆæ³¨æ„å…¶ä¸­çš„if-else-ifè¯­å¥ï¼Œå¯è§awkå…¶å®æ˜¯ä¸ªè„šæœ¬è§£é‡Šå™¨ï¼‰
</p>
<pre class="brush:bash">
$ awk 'NR!=1{if($6 ~ /TIME|ESTABLISHED/) print &gt; "1.txt";
else if($6 ~ /LISTEN/) print &gt; "2.txt";
else print &gt; "3.txt" }' netstat.txt
 
$ ls ?.txt
1.txt  2.txt  3.txt
 
$ cat 1.txt
tcp        0      0 coolshell.cn:80        124.205.5.146:18245         TIME_WAIT
tcp        0      0 coolshell.cn:80        110.194.134.189:1032        ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49809       ESTABLISHED
tcp        0      0 coolshell.cn:80        123.169.124.111:49829       ESTABLISHED
tcp        0      0 coolshell.cn:80        183.60.215.36:36970         TIME_WAIT
tcp        0   4166 coolshell.cn:80        61.148.242.38:30901         ESTABLISHED
tcp        0      0 coolshell.cn:80        110.194.134.189:4796        ESTABLISHED
tcp        0      0 coolshell.cn:80        183.60.212.163:51082        TIME_WAIT
tcp        0      0 coolshell.cn:80        123.169.124.111:49840       ESTABLISHED
 
$ cat 2.txt
tcp        0      0 0.0.0.0:3306           0.0.0.0:*                   LISTEN
tcp        0      0 0.0.0.0:80             0.0.0.0:*                   LISTEN
tcp        0      0 127.0.0.1:9000         0.0.0.0:*                   LISTEN
tcp        0      0 :::22                  :::*                        LISTEN
 
$ cat 3.txt
tcp        0      0 coolshell.cn:80        61.140.101.185:37538        FIN_WAIT2
tcp        0      0 coolshell.cn:80        116.234.127.77:11502        FIN_WAIT2
tcp        0      1 coolshell.cn:80        124.152.181.209:26825       FIN_WAIT1
tcp        0      1 coolshell.cn:80        208.115.113.92:50601        LAST_ACK
tcp        0      0 coolshell.cn:80        117.136.20.85:50025         FIN_WAIT2
</pre>

<h4 id="toc_1.3.3.3">ç»Ÿè®¡</h4>

<p>
ä¸‹é¢çš„å‘½ä»¤è®¡ç®—æ‰€æœ‰çš„Cæ–‡ä»¶ï¼ŒCPPæ–‡ä»¶å’ŒHæ–‡ä»¶çš„æ–‡ä»¶å¤§å°æ€»å’Œã€‚
</p>
<pre class="brush:bash">
$ ls -l  *.cpp *.c *.h | awk '{sum+=$5} END {print sum}'
2511401
</pre>

<p>
æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªç»Ÿè®¡å„ä¸ªconnectionçŠ¶æ€çš„ç”¨æ³•ï¼šï¼ˆæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€äº›ç¼–ç¨‹çš„å½±å­äº†ï¼Œå¤§å®¶éƒ½æ˜¯ç¨‹åºå‘˜æˆ‘å°±ä¸è§£é‡Šäº†ã€‚æ³¨æ„å…¶ä¸­çš„æ•°ç»„çš„ç”¨æ³•ï¼‰
</p>
<pre class="brush:bash">
$ awk 'NR!=1{a[$6]++;} END {for (i in a) print i ", " a[i];}' netstat.txt
TIME_WAIT, 3
FIN_WAIT1, 1
ESTABLISHED, 6
FIN_WAIT2, 3
LAST_ACK, 1
LISTEN, 4
</pre>

<p>
å†æ¥çœ‹çœ‹ç»Ÿè®¡æ¯ä¸ªç”¨æˆ·çš„è¿›ç¨‹çš„å äº†å¤šå°‘å†…å­˜ï¼ˆæ³¨ï¼šsumçš„RSSé‚£ä¸€åˆ—ï¼‰
</p>
<pre class="brush:bash">
$ ps aux | awk 'NR!=1{a[$1]+=$6;} END { for(i in a) print i ", " a[i]"KB";}'
dbus, 540KB
mysql, 99928KB
www, 3264924KB
root, 63644KB
hchen, 6020KB
</pre>

<h3 id="toc_1.3.4">è„±æ‰å†…è¡£</h3>

<h4 id="toc_1.3.4.1">awkè„šæœ¬</h4>

<p>
åœ¨ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€ä¸ªENDå…³é”®å­—ã€‚ENDçš„æ„æ€æ˜¯â€œå¤„ç†å®Œæ‰€æœ‰çš„è¡Œçš„æ ‡è¯†â€ï¼Œå³ç„¶è¯´åˆ°äº†ENDå°±æœ‰å¿…è¦ä»‹ç»ä¸€ä¸‹BEGINï¼Œè¿™ä¸¤ä¸ªå…³é”®å­—æ„å‘³ç€æ‰§è¡Œå‰å’Œæ‰§è¡Œåçš„æ„æ€ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š
</p>
<pre>
BEGIN{ è¿™é‡Œé¢æ”¾çš„æ˜¯æ‰§è¡Œå‰çš„è¯­å¥ }
END {è¿™é‡Œé¢æ”¾çš„æ˜¯å¤„ç†å®Œæ‰€æœ‰çš„è¡Œåè¦æ‰§è¡Œçš„è¯­å¥ }
{è¿™é‡Œé¢æ”¾çš„æ˜¯å¤„ç†æ¯ä¸€è¡Œæ—¶è¦æ‰§è¡Œçš„è¯­å¥}
</pre>

<p>
ä¸ºäº†è¯´æ¸…æ¥šè¿™ä¸ªäº‹ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š
</p>

<p>
å‡è®¾æœ‰è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶ï¼ˆå­¦ç”Ÿæˆç»©è¡¨ï¼‰ï¼š
</p>
<pre class="brush:bash">
$ cat score.txt
Marry   2143 78 84 77
Jack    2321 66 78 45
Tom     2122 48 77 71
Mike    2537 87 97 95
Bob     2415 40 57 62
</pre>

<p>
æˆ‘ä»¬çš„awkè„šæœ¬å¦‚ä¸‹ï¼ˆæˆ‘æ²¡æœ‰å†™åœ¨å‘½ä»¤è¡Œä¸Šæ˜¯å› ä¸ºå‘½ä»¤è¡Œä¸Šä¸æ˜“è¯»ï¼Œå¦å¤–ä¹Ÿåœ¨ä»‹ç»å¦ä¸€ç§ç”¨æ³•ï¼‰ï¼š
</p>
<pre class="brush:bash">
$ cat cal.awk
#!/bin/awk -f
#è¿è¡Œå‰
BEGIN {
    math = 0
    english = 0
    computer = 0
 
    printf "NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL\n"
    printf "---------------------------------------------\n"
}
#è¿è¡Œä¸­
{
    math+=$3
    english+=$4
    computer+=$5
    printf "%-6s %-6s %4d %8d %8d %8d\n", $1, $2, $3,$4,$5, $3+$4+$5
}
#è¿è¡Œå
END {
    printf "---------------------------------------------\n"
    printf "  TOTAL:%10d %8d %8d \n", math, english, computer
    printf "AVERAGE:%10.2f %8.2f %8.2f\n", math/NR, english/NR, computer/NR
}
</pre>

<p>
æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ‰§è¡Œç»“æœï¼šï¼ˆä¹Ÿå¯ä»¥è¿™æ ·è¿è¡Œ ./cal.awk score.txtï¼‰
</p>
<pre class="brush:bash">
$ awk -f cal.awk score.txt
NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL
---------------------------------------------
Marry  2143     78       84       77      239
Jack   2321     66       78       45      189
Tom    2122     48       77       71      196
Mike   2537     87       97       95      279
Bob    2415     40       57       62      159
---------------------------------------------
  TOTAL:       319      393      350
AVERAGE:     63.80    78.60    70.00
</pre>

<h4 id="toc_1.3.4.2">ç¯å¢ƒå˜é‡</h4>

<p>
å³ç„¶è¯´åˆ°äº†è„šæœ¬ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ€ä¹ˆå’Œç¯å¢ƒå˜é‡äº¤äº’ï¼šï¼ˆä½¿ç”¨-vå‚æ•°å’ŒENVIRONï¼Œä½¿ç”¨ENVIRONçš„ç¯å¢ƒå˜é‡éœ€è¦exportï¼‰
</p>
<pre class="brush:bash">
$ x=5
$ y=10
$ export y
$ echo $x $y
5 10
 
$ awk -v val=$x '{print $1, $2, $3, $4+val, $5+ENVIRON["y"]}' OFS="\t" score.txt
Marry   2143    78      89      87
Jack    2321    66      83      55
Tom     2122    48      82      81
Mike    2537    87      102     105
Bob     2415    40      62      72
</pre>

<h4 id="toc_1.3.4.3">å‡ ä¸ªèŠ±æ´»</h4>

<p>
æœ€åï¼Œæˆ‘ä»¬å†æ¥çœ‹å‡ ä¸ªå°ä¾‹å­ï¼š
</p>
<pre class="brush:bash">
#ä»fileæ–‡ä»¶ä¸­æ‰¾å‡ºé•¿åº¦å¤§äº80çš„è¡Œ
awk 'length&gt;80' file
 
#æŒ‰è¿æ¥æ•°æŸ¥çœ‹å®¢æˆ·ç«¯IP
netstat -ntu | awk '{print $5}' | cut -d: -f1 | sort | uniq -c | sort -nr
 
#æ‰“å°99ä¹˜æ³•è¡¨
seq 9 | sed 'H;g' | awk -v RS='' '{for(i=1;i&lt;=NF;i++)printf("%dx%d=%d%s", i, NR, i*NR, i==NR?"\n":"\t")}'

# ç”¨system()è°ƒç”¨ç³»ç»Ÿå‘½ä»¤
echo "/"|awk '{system("ls -la "$1)}'

* å°†16è¿›åˆ¶ä¸²è¿˜åŸæˆå­—ç¬¦
{{{class="brush:bash"
# è¾“å…¥å†…å®¹ï¼Œä¸ºå­—ç¬¦çš„ASCIIç åå…­è¿›åˆ¶ä¸²
S="4c56544442313142304742303132363136
4c4835353130303558433531
3436303033363136313930393436
3138393836303331353930303231313539383733"

for s in $S;do echo -n "$s = ";echo $s|sed 's/\(..\)/0x\1\n/g'|xargs -I {} awk 'BEGIN{printf("%c",{})}';echo;done

# ç»“æœ
#4c56544442313142304742303132363136 = LVTDB11B0GB012616
#4c4835353130303558433531 = LH551005XC51
#3436303033363136313930393436 = 46003616190946
#3138393836303331353930303231313539383733 = 18986031590021159873

# å°†æ—¶é—´æˆ³è½¬æ¢æˆâ€œå¹´-æœˆ-æ—¥ æ—¶:åˆ†:ç§’â€çš„æ ¼å¼
date +%s|awk '{print strftime("%Y-%m-%d %H:%M:%S",$1)}'
#2016-04-10 00:31:37
</pre>

<h3 id="toc_1.3.5">è‡ªå·±æ’¸å§</h3>

<p>
å…³äºå…¶ä¸­çš„ä¸€äº›çŸ¥è¯†ç‚¹å¯ä»¥å‚çœ‹gawkçš„æ‰‹å†Œï¼š
</p>

<ul>
<li>
å†…å»ºå˜é‡ï¼Œå‚çœ‹ï¼š<a href="http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din-Variables">http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din-Variables</a>

<li>
æµæ§æ–¹é¢ï¼Œå‚çœ‹ï¼š<a href="http://www.gnu.org/software/gawk/manual/gawk.html#Statements">http://www.gnu.org/software/gawk/manual/gawk.html#Statements</a>

<li>
å†…å»ºå‡½æ•°ï¼Œå‚çœ‹ï¼š<a href="http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din">http://www.gnu.org/software/gawk/manual/gawk.html#Built_002din</a>

<li>
æ­£åˆ™è¡¨è¾¾å¼ï¼Œå‚çœ‹ï¼š<a href="http://www.gnu.org/software/gawk/manual/gawk.html#Regexp">http://www.gnu.org/software/gawk/manual/gawk.html#Regexp</a>

</ul>

<p>
ï¼ˆå…¨æ–‡å®Œï¼‰
</p>

<p>
ï¼ˆè½¬è½½æœ¬ç«™æ–‡ç« è¯·æ³¨æ˜ä½œè€…å’Œå‡ºå¤„ <a href="http://coolshell.cn/">é…·å£³ â€“ CoolShell.cn</a>ï¼Œè¯·å‹¿ç”¨äºä»»ä½•å•†ä¸šç”¨é€”ï¼‰
</p>

<ul>
<li>
è°ƒç”¨æ–‡ä»¶
<pre class="brush:bash">
cat &gt; funk.awk &lt;&lt;EOF 
#!/usr/bin/awk
function echo_hello() { print "hello"; }
EOF
echo Test|awk -f funk.awk --source '{print $1;echo_hello();}'
</pre>
<pre>
Test
hello
</pre>

</ul>

<h2 id="toc_1.4">JSON.awk</h2>

<ul>
<li>
<a href="https://github.com/step-/JSON.awk">https://github.com/step-/JSON.awk</a>

</ul>

<p>
è¯•ç”¨äº†ä¸€ä¸‹å¹¶ä¸æ–¹ä¾¿ï¼Œçœ‹æ¥è¿˜æ˜¯ç”¨Pythonæ“ä½œJSONæ›´æ–¹ä¾¿ä¸€äº›ã€‚
</p>

<p>
JSON.awk is a self-contained, single-file program with no external dependencies. It is similar to JSON.sh, a JSON parser written in Bash -- retrieved on 2013-03-13 to form the basis for JSON.awk. Since then, the two projects have taken separate paths, so you will not find all of JSON.sh features in JSON.awk, and viceversa.
</p>

<ul>
<li>
Usage Examples
<pre class="brush:bash">
awk -f JSON.awk -v file1.json file2.json

echo -e "file1.json\nfile2.json\n" &gt; filenames &amp;&amp; awk -f JSON.awk &lt; filenames

echo -e "file1.json\nfile2.json\n" | awk -f JSON.awk

# pipe JSON data from stdin

cat file1.json file2.json | awk -f JSON.awk

{ echo -; echo; cat file1.json file2.json; } | awk -f JSON.awk
</pre>

</ul>


<ul>
<li>
å…¶ä»–å¤„ç†JSONæ–¹å¼

</ul>

<pre class="brush:bash">
# jq:
curl -s 'https://api.github.com/users/lambda' | jq -r '.name'

# Python 2:
export PYTHONIOENCODING=utf8
curl -s 'https://api.github.com/users/lambda' | \
    python -c "import sys, json; print json.load(sys.stdin)['name']"

# Python 3:

curl -s 'https://api.github.com/users/lambda' | \
    python3 -c "import sys, json; print(json.load(sys.stdin)['name'])"

# jsawk
curl -s 'https://api.github.com/users/lambda' | jsawk -a 'return this.name'

# grep
grep -Po '"text":.*?[^\\]",' tweets.json
</pre>




<h2 id="toc_1.5">è§£æ/proc/net/tcp</h2>

<ul>
<li>
å®¹å™¨é‡Œæ²¡æœ‰ ps æ€ä¹ˆåŠï¼Ÿ

<ul>
<li>
<a href="https://nolebase.ayaka.io/ç¬”è®°/ğŸ§±%20åŸºç¡€è®¾æ–½/å®¹å™¨é‡Œæ²¡æœ‰%20ps%20æ€ä¹ˆåŠï¼Ÿ.html">https://nolebase.ayaka.io/ç¬”è®°/ğŸ§±%20åŸºç¡€è®¾æ–½/å®¹å™¨é‡Œæ²¡æœ‰%20ps%20æ€ä¹ˆåŠï¼Ÿ.html</a>

</ul>
</ul>

<pre class="brush:bash">
awk 'function hextodec(str,ret,n,i,k,c){
    ret = 0
    n = length(str)
    for (i = 1; i &lt;= n; i++) {
        c = tolower(substr(str, i, 1))
        k = index("123456789abcdef", c)
        ret = ret * 16 + k
    }
    return ret
}
function getIP(str,ret){
    ret=hextodec(substr(str,index(str,":")-2,2)); 
    for (i=5; i&gt;0; i-=2) {
        ret = ret"."hextodec(substr(str,i,2))
    }
    ret = ret":"hextodec(substr(str,index(str,":")+1,4))
    return ret
} 
NR &gt; 1 {{if(NR==2)print "Local - Remote";local=getIP($2);remote=getIP($3)}{print local" - "remote}}' /proc/net/tcp
</pre>

<pre class="brush:bash">
grep -v "rem_address" /proc/net/tcp  | awk 'function hextodec(str,ret,n,i,k,c){
    ret = 0
    n = length(str)
    for (i = 1; i &lt;= n; i++) {
        c = tolower(substr(str, i, 1))
        k = index("123456789abcdef", c)
        ret = ret * 16 + k
    }
    return ret
} {x=hextodec(substr($2,index($2,":")-2,2)); for (i=5; i&gt;0; i-=2) x = x"."hextodec(substr($2,i,2))}{print x":"hextodec(substr($2,index($2,":")+1,4))}'
</pre>

<pre>
cat /proc/net/tcp
  sl  local_address rem_address   st tx_queue rx_queue tr tm-&gt;when retrnsmt   uid  timeout inode
  sl  local_address rem_address   st tx_queue rx_queue tr tm-&gt;when retrnsmt   uid  timeout inode                                                     
   0: 00000000:22B8 00000000:0000 0A 00000000:00000000 00:00000000 00000000  1000        0 6217263 1 0000000000000000 100 0 0 10 0                   
   1: 0100007F:998E 0100007F:22B8 06 00000000:00000000 03:000014B4 00000000     0        0 0 3 0000000000000000                                      
   2: 0100007F:A198 0100007F:22B8 01 00000000:00000000 02:000002BB 00000000     0 
...
   8: 0100007F:22B8 0100007F:981E 01 00000000:00000000 00:00000000 00000000  1000        0 6248667 3 0000000000000000 20 4 3 10 -1
...
8:
0100007F:22B8 æœ¬åœ°åœ°å€,IP:Port,å°ç«¯åºå­˜å‚¨
0100007F:97B6 è¿œç«¯åœ°å€
01
00000000:00000000
00:00000000
00000000
...
</pre>

</div>
<div id="footer">
<p>
&copy; 2012 - 2021 XStar
&nbsp;|&nbsp;<a href="http://code.google.com/p/vimwiki/" title="vimwiki">Powerby:Vimwiki</a>
&nbsp;|&nbsp;<a href="http://kwiki.github.io" title="ä¸˜è¿Ÿ">Style:ä¸˜è¿Ÿ</a>
&nbsp;|&nbsp;<a href="../index.html">é¦–é¡µ</a>
&nbsp;|&nbsp;<a href="index.html">åˆ†ç±»é¦–é¡µ</a>
&nbsp;|&nbsp;<a href="../SiteMap.html">ç«™ç‚¹åœ°å›¾</a>
</p>
</div>
<script type="text/javascript">var vimwiki_rootpath="../";</script>
<script type="text/javascript" src="https://cdn.staticfile.org/jquery/2.0.0/jquery.min.js"></script>
<script type="text/javascript" src="../scripts/vimwiki.js"></script>
</body>
</html>

